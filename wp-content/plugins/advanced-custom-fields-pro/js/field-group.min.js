!function(e){function t(e){var t=e.find('[data-name="toggle-select-ui"]:checked').val();"1"==t?e.find('.acf-field[data-name="ajax"]').show():e.find('.acf-field[data-name="ajax"]').hide()}function i(e){var t=e.find('[data-name="toggle-radio-other"]');t.is(":checked")?e.find('.acf-field[data-name="save_other_choice"]').show():(e.find('.acf-field[data-name="save_other_choice"]').hide(),e.find('.acf-field[data-name="save_other_choice"] input').removeAttr("checked"))}function a(t){e.each(["display_format","return_format"],function(e,i){var a=t.find('.acf-field[data-name="'+i+'"] input[type="radio"]:checked'),n=t.find('.acf-field[data-name="'+i+'"] input[type="text"]');"other"!=a.val()&&n.val(a.val())})}acf.field_group={$fields:null,$locations:null,$options:null,conditions:{},locations:{},options:{},init:function(){var t=this;this.$fields=e("#acf-field-group-fields"),this.$locations=e("#acf-field-group-locations"),this.$options=e("#acf-field-group-options"),this.$fields.addClass("acf-postbox seamless"),this.$locations.addClass("acf-postbox"),this.$options.addClass("acf-postbox"),t.sort_fields(this.$fields.find(".acf-field-list:first")),e(document).on("submit","#post",function(){return t.submit()}),e(document).on("click","#submitdiv .submitdelete",function(){return t.trash()}),this.$fields.on("click",".edit-field",function(i){i.preventDefault(),t.edit_field(e(this).closest(".field"))}),this.$fields.on("click",".duplicate-field",function(i){i.preventDefault(),t.duplicate_field(e(this).closest(".field"))}),this.$fields.on("click",".move-field",function(i){i.preventDefault(),t.move_field(e(this).closest(".field"))}),this.$fields.on("click",".delete-field",function(i){i.preventDefault(),t.delete_field(e(this).closest(".field"))}),this.$fields.on("click",".acf-add-field",function(i){i.preventDefault(),t.add_field(e(this).closest(".acf-field-list-wrap").children(".acf-field-list"))}),this.$fields.on("change",'tr[data-name="type"] select',function(){t.change_field_type(e(this))}),this.$fields.on("blur",'tr[data-name="label"] input',function(i){t.change_field_label(e(this).closest(".field"))}),this.$fields.on("keyup",'tr[data-name="label"] input, tr[data-name="name"] input',function(i){t.render_field(e(this).closest(".field"))}),this.$fields.on("change","input, textarea, select",function(i){t.save_field(e(this).closest(".field"))}),e(document).on("change",'#adv-settings input[name="show_field_keys"]',function(){t.toggle_field_keys(e(this).val())}),acf.add_filter("is_field_ready_for_js",function(e,t){return t.parents('.field[data-key="acfcloneindex"]').exists()&&(e=!1),e},99),this.conditions.init(),this.locations.init(),this.options.init(),this.render()},render:function(){var t=acf.serialize_form(e("#adv-settings"));t.show_field_keys=parseInt(t.show_field_keys),t.show_field_keys?this.$fields.addClass("show-field-keys"):this.$fields.removeClass("show-field-keys")},toggle_field_keys:function(e){e=parseInt(e),acf.update_user_setting("show_field_keys",e),e?this.$fields.addClass("show-field-keys"):this.$fields.removeClass("show-field-keys")},get_field_meta:function(e,t){return $input=e.find("> .acf-hidden > .input-"+t),$input.exists()?$input.val():!1},update_field_meta:function(t,i,a){var n=t.find("> .acf-hidden > .input-"+i);if(!n.exists()){var l=t.find("> .acf-hidden > .input-ID").outerHTML().replace(/ID/g,i);n=e(l),n.val(a),t.find("> .acf-hidden").append(n)}n.val()!=a&&(n.val(a),"save"!=i&&this.save_field(t,"meta"))},delete_field_meta:function(e,t){var i=e.find("> .acf-hidden > .input-"+t);i.exists()&&i.remove(),this.save_field(e,"meta")},save_field:function(e,t){t=t||"settings";var i=this.get_field_meta(e,"save");"settings"!=i&&i!=t&&(this.update_field_meta(e,"save",t),acf.do_action("save_field",e,t))},submit:function(){var t=this,i=e("#titlewrap #title");return i.val()?(t.$fields.find(".field").each(function(){var i=t.get_field_meta(e(this),"save"),a=t.get_field_meta(e(this),"ID"),n=e(this).hasClass("open");return"acfcloneindex"==a?void e(this).remove():(n&&t.close_field(e(this)),void("settings"==i||("meta"==i?e(this).children(".field-settings").find('[name^="acf_fields['+a+']"]').remove():e(this).find('[name^="acf_fields['+a+']"]').remove())))}),!0):(e("#submitdiv").exists()&&(e("#submitdiv").find(".disabled").removeClass("disabled"),e("#submitdiv").find(".button-disabled").removeClass("button-disabled"),e("#submitdiv").find(".button-primary-disabled").removeClass("button-primary-disabled"),e("#submitdiv .spinner").hide()),alert(acf._e("title_is_required")),i.focus(),!1)},trash:function(){return confirm(acf._e("move_to_trash"))},sort_fields:function(e){e.sortable({connectWith:".acf-field-list",update:function(e,t){var i=t.item;acf.field_group.render_fields(),acf.do_action("sortstop",i)},handle:".acf-icon"})},render_fields:function(){var t=this;this.$fields.find(".acf-field-list").each(function(){var i=e(this).children(".field").not('[data-id="acfcloneindex"]');i.each(function(i){t.update_field_meta(e(this),"menu_order",i),e(this).find("> .field-info .li-field_order .acf-icon").html(i+1)}),i.exists()?e(this).children(".no-fields-message").hide():e(this).children(".no-fields-message").show()})},render_field:function(e){var t=e.find('tr[data-name="label"]:first input').val(),i=e.find('tr[data-name="name"]:first input').val(),a=e.find('tr[data-name="type"]:first select option:selected').text();e.find("> .field-info .li-field_label strong a").text(t),e.find("> .field-info .li-field_name").text(i),e.find("> .field-info .li-field_type").text(a)},edit_field:function(e){e.hasClass("open")?this.close_field(e):this.open_field(e)},open_field:function(e){return e.hasClass("open")?!1:(e.addClass("open"),acf.do_action("open_field",e),void e.children(".field-settings").animate({height:"toggle"},250))},close_field:function(e){return e.hasClass("open")?(e.removeClass("open"),acf.do_action("close_field",e),void e.children(".field-settings").animate({height:"toggle"},250)):!1},wipe_field:function(t){var i=t.attr("data-id"),a=t.attr("data-key"),n=acf.get_uniqid("field_");t.attr("data-orig",a),t.attr("data-key",n),t.attr("data-id",n),this.update_field_meta(t,"ID",""),this.update_field_meta(t,"key",n),t.find('[id*="'+i+'"]').each(function(){e(this).attr("id",e(this).attr("id").replace(i,n))}),t.find('[name*="'+i+'"]').each(function(){e(this).attr("name",e(this).attr("name").replace(i,n))}),t.find("> .field-info .pre-field_key").text(n),t.find(".ui-sortable").removeClass("ui-sortable"),acf.do_action("wipe_field",t)},duplicate_field:function(e){acf.do_action("before_duplicate",e);var t=e.clone(),i=e.closest(".acf-field-list");acf.do_action("remove",t),this.wipe_field(t),e.after(t),acf.do_action("after_duplicate",e,t),setTimeout(function(){t.find('.field_form input[type="text"]:first').focus()},251),this.render_fields(),acf.do_action("append",t),e.hasClass("open")?this.close_field(e):this.open_field(t);var a=t.find('tr[data-name="label"]:first input'),n=t.find('tr[data-name="name"]:first input');a.val(a.val()+" ("+acf._e("copy")+")"),n.val(n.val()+"_"+acf._e("copy")),this.save_field(t),this.render_field(t),acf.do_action("duplicate_field",t)},move_field:function(t){var i=this,a={action:"acf/field_group/move_field",nonce:acf.get("nonce"),field_id:this.get_field_meta(t,"ID")},n=!1;return a.field_id||(n=!0),"settings"==this.get_field_meta(t,"save")&&(n=!0),t.find(".field").not('[data-id="acfcloneindex"]').each(function(){i.get_field_meta(e(this),"ID")||(n=!0),"settings"==i.get_field_meta(e(this),"save")&&(n=!0)}),n?void alert(acf._e("move_field_warning")):(acf.open_popup({title:acf._e("move_field"),loading:!0,height:220}),void e.ajax({url:acf.get("ajaxurl"),data:a,type:"post",dataType:"html",success:function(e){acf.field_group.move_field_confirm(t,e)}}))},move_field_confirm:function(t,i){var a=this;acf.update_popup({content:i});var n={action:"acf/field_group/move_field",nonce:acf.get("nonce"),field_id:this.get_field_meta(t,"ID"),field_group_id:0};e("#acf-move-field-form").on("submit",function(){return n.field_group_id=e(this).find("select").val(),e.ajax({url:acf.get("ajaxurl"),data:n,type:"post",dataType:"html",success:function(e){acf.update_popup({content:e}),a.update_field_meta(t,"ID",""),a.delete_field(t)}}),!1})},delete_field:function(t,i){i=i||!0;var a=this.get_field_meta(t,"ID");if("acfcloneindex"!=a&&(a&&e("#input-delete-fields").val(e("#input-delete-fields").val()+"|"+a),acf.do_action("delete_field",t),i)){var n=this,l=t.closest(".acf-field-list");t.css({height:t.height(),width:t.width(),position:"absolute"}),t.wrap('<div class="temp-field-wrap" style="height:'+t.height()+'px"></div>'),t.animate({opacity:0},250);var d=0,f=!1;1==l.children(".field").length&&(f=l.children(".no-fields-message"),d=f.outerHeight()),t.parent(".temp-field-wrap").animate({height:d},250,function(){f&&f.show(),acf.do_action("remove",e(this)),e(this).remove(),n.render_fields()})}},add_field:function(e){var t=e.children('.field[data-key="acfcloneindex"]').clone();this.wipe_field(t),t.show(),e.children('.field[data-key="acfcloneindex"]').before(t),e.children(".no-fields-message").hide(),t.find('.field-settings input[type="text"]').val(""),setTimeout(function(){t.find('.field_form input[type="text"]:first').focus()},251),this.render_fields(),acf.do_action("append",t),this.edit_field(t),acf.do_action("add_field",t)},change_field_type:function(t){var i=t.closest("tbody"),a=i.closest(".field"),n=a.parent().closest(".field"),l=a.attr("data-key"),d=a.attr("data-type"),f=t.val();a.removeClass("field_type-"+d).addClass("field_type-"+f).attr("data-type",f),("tab"==f||"message"==f)&&i.find('tr[data-name="name"] input').val("").trigger("keyup"),a.data("xhr")&&a.data("xhr").abort();var o=i.children('tr[data-setting="'+d+'"]'),c="";if(o.each(function(){c+=e(this).outerHTML()}),o.remove(),acf.update(l+"_settings_"+d,c),this.render_field(a),c=acf.get(l+"_settings_"+f))return i.children('.acf-field[data-name="conditional_logic"]').before(c),acf.update(l+"_settings_"+f,""),void acf.do_action("change_field_type",a);var s=e('<tr class="acf-field"><td class="acf-label"></td><td class="acf-input"><div class="acf-loading"></div></td></tr>');i.children('.acf-field[data-name="conditional_logic"]').before(s);var r={action:"acf/field_group/render_field_settings",nonce:acf.o.nonce,parent:acf.o.post_id,field_group:acf.o.post_id,prefix:t.attr("name").replace("[type]",""),type:f};n.exists()&&(r.parent=this.get_field_meta(n,"ID"));var u=e.ajax({url:acf.o.ajaxurl,data:r,type:"post",dataType:"html",success:function(t){if(t){var i=e(t);s.after(i),acf.do_action("append",i),acf.do_action("change_field_type",a)}},complete:function(){s.remove()}});a.data("xhr",u)},change_field_label:function(t){var i=t.find('tr[data-name="label"]:first input'),a=t.find('tr[data-name="name"]:first input'),n=t.attr("data-type");if("tab"==n||"message"==n)return void a.val("").trigger("change");if(""==a.val()){var l=i.val(),d={ä:"a",æ:"a",å:"a",ö:"o",ø:"o",é:"e",ë:"e",ü:"u",ó:"o",ő:"o",ú:"u",é:"e",á:"a",ű:"u",í:"i"," ":"_","'":"","\\?":""};e.each(d,function(e,t){var i=new RegExp(e,"g");l=l.replace(i,t)}),l=l.toLowerCase(),a.val(l).trigger("change")}this.render_field(t),acf.do_action("change_field_label",t)}},acf.field_group.conditions={$el:null,init:function(){this.$el=acf.field_group.$fields;var t=this;acf.add_action("open_field",function(e){t.render(e)}),acf.add_action("change_field_label change_field_type",function(i){t.$el.find(".field.open").each(function(){t.render(e(this))})}),t.$el.on("change",'tr[data-name="conditional_logic"] input[type="radio"]',function(i){i.preventDefault(),t.change_toggle(e(this))}),t.$el.on("change",".conditional-logic-field",function(i){i.preventDefault(),t.change_trigger(e(this))}),t.$el.on("click",".location-add-rule",function(i){i.preventDefault(),t.add_rule(e(this).closest("tr"))}),t.$el.on("click",".location-remove-rule",function(i){i.preventDefault(),t.remove_rule(e(this).closest("tr"))}),t.$el.on("click",".location-add-group",function(i){i.preventDefault(),t.add_group(e(this).closest(".location-groups"))})},update_select:function(t,i){i&&0!=i.length||(i=[{value:"",label:""}]);var a=t.val();t.html(""),e.each(i,function(i,a){var n=t;a.group&&(n=t.find('optgroup[label="'+a.group+'"]'),n.exists()||(n=e('<optgroup label="'+a.group+'"></optgroup>'),t.append(n))),n.append('<option value="'+a.value+'">'+a.label+"</option>")}),t.find('option[value="'+a+'"]').exists()&&t.val(a)},render:function(t){var i=this,a=[],n=t.attr("data-key"),l=t.parents(".acf-field-list"),d=t.find('> .field-settings > table > tbody > tr[data-name="conditional_logic"]');e.each(l,function(t){var i=0==t?acf.l10n.sibling_fields:acf.l10n.parent_fields;e(this).children(".field").each(function(){var t=e(this),l=t.attr("data-key"),d=t.attr("data-type"),f=t.find('> .field-settings > table > tbody > tr[data-name="label"] input').val();"acfcloneindex"!=l&&l!=n&&("select"==d||"checkbox"==d||"true_false"==d||"radio"==d)&&a.push({value:l,label:f,group:i})})}),0==a.length&&a.push({value:"",label:acf.l10n.no_fields}),d.find(".conditional-logic-field").each(function(){i.update_select(e(this),a),i.change_trigger(e(this))})},change_toggle:function(e){var t=e.val(),i=e.closest(".acf-input");"1"==t?(i.find(".location-groups").show(),i.find(".location-groups").find("[name]").removeAttr("disabled")):(i.find(".location-groups").hide(),i.find(".location-groups").find("[name]").attr("disabled","disabled"))},change_trigger:function(t){var i=t.val(),a=this.$el.find('.field[data-key="'+i+'"]'),n=a.attr("data-type"),l=t.closest("tr").find(".conditional-logic-value"),d=[];if("true_false"==n)d=[{value:1,label:acf.l10n.checked}];else if("select"==n||"checkbox"==n||"radio"==n){var f=a.find('tr[data-name="choices"] textarea').val().split("\n");if(f)for(var o=0;o<f.length;o++){var c=f[o].split(":"),s=c[0];c[1]&&(s=c[1]),d.push({value:e.trim(c[0]),label:e.trim(s)})}$allow_null=a.find('tr[data-name="allow_null"]'),$allow_null.exists()&&"1"==$allow_null.find("input:checked").val()&&d.unshift({value:"",label:acf._e("null")})}this.update_select(l,d)},add_rule:function(t){var i=t.clone(),a=i.attr("data-id"),n=acf.get_uniqid();i.find("[name]").each(function(){e(this).attr("name",e(this).attr("name").replace(a,n)),e(this).attr("id",e(this).attr("id").replace(a,n))}),i.attr("data-id",n),t.after(i),acf.field_group.save_field(t.closest(".field"))},remove_rule:function(e){var t=e.siblings("tr").length;acf.field_group.save_field(e.closest(".field")),0==t?this.remove_group(e.closest(".location-group")):e.remove()},add_group:function(t){var i=t.find(".location-group:last"),a=i.clone(),n=a.attr("data-id"),l=acf.get_uniqid();a.find("[name]").each(function(){e(this).attr("name",e(this).attr("name").replace(n,l)),e(this).attr("id",e(this).attr("id").replace(n,l))}),a.attr("data-id",l),a.find("h4").text(acf.l10n.or),a.find("tr:not(:first)").remove(),i.after(a)},remove_group:function(e){e.remove()}},acf.field_group.locations={$el:null,init:function(){this.$el=acf.field_group.$locations;var t=this;t.$el.on("click",".location-add-rule",function(i){i.preventDefault(),t.add_rule(e(this).closest("tr"))}),t.$el.on("click",".location-remove-rule",function(i){i.preventDefault(),t.remove_rule(e(this).closest("tr"))}),t.$el.on("click",".location-add-group",function(e){e.preventDefault(),t.add_group()}),t.$el.on("change",".param select",function(){t.change_rule(e(this))})},add_rule:function(t){var i=t.clone(),a=i.attr("data-id"),n=acf.get_uniqid();return i.find("[name]").each(function(){e(this).attr("name",e(this).attr("name").replace(a,n)),e(this).attr("id",e(this).attr("id").replace(a,n))}),i.attr("data-id",n),t.after(i),!1},remove_rule:function(e){var t=e.siblings("tr").length;0==t?this.remove_group(e.closest(".location-group")):e.remove()},add_group:function(){var t=this.$el.find(".location-group:last"),i=t.clone(),a=i.attr("data-id"),n=acf.get_uniqid();i.find("[name]").each(function(){e(this).attr("name",e(this).attr("name").replace(a,n)),e(this).attr("id",e(this).attr("id").replace(a,n))}),i.attr("data-id",n),i.find("h4").text(acf.l10n.or),i.find("tr:not(:first)").remove(),t.after(i)},remove_group:function(e){e.remove()},change_rule:function(t){var i=t.closest("tr"),a=i.attr("data-id"),n=i.closest(".location-group"),l=n.attr("data-id"),d=e('<div class="acf-loading"></div>');i.find("td.value").html(d),e.ajax({url:acf.get("ajaxurl"),data:acf.prepare_for_ajax({action:"acf/field_group/render_location_value",rule_id:a,group_id:l,value:"",param:t.val()}),type:"post",dataType:"html",success:function(e){d.replaceWith(e)}})}},acf.field_group.options={$el:null,init:function(){this.$el=acf.field_group.$options;var t=this.$el.find('tr[data-name="hide_on_screen"] ul'),i=e('<li><label><input type="checkbox" value="" name="" >'+acf._e("hide_show_all")+"</label></li>");0==t.find("input:not(:checked)").length&&i.find("input").attr("checked","checked"),i.on("change","input",function(){var i=e(this).is(":checked");t.find("input").attr("checked",i)}),t.prepend(i)}},acf.add_action("ready",function(){acf.field_group.init()}),acf.add_action("open_field change_field_type",function(e){"select"==e.attr("data-type")&&(e.find('.acf-field[data-name="ui"] input[type="radio"]').attr("data-name","toggle-select-ui"),t(e))}),e(document).on("change",'[data-name="toggle-select-ui"]',function(){t(e(this).closest(".field"))}),acf.add_action("open_field change_field_type",function(e){"radio"==e.attr("data-type")&&(e.find('.acf-field[data-name="other_choice"] input[type="checkbox"]').attr("data-name","toggle-radio-other"),i(e))}),e(document).on("change",'[data-name="toggle-radio-other"]',function(){i(e(this).closest(".field"))}),acf.add_action("open_field change_field_type",function(e){"google_map"==e.attr("data-type")&&($lat=e.find('tr[data-name="center_lat"]'),$lng=e.find('tr[data-name="center_lng"]'),tmpl='<ul class="acf-hl"><li style="width:48%;">$lat</li><li style="width:48%; margin-left:4%;">$lng</li></ul>',$lng.exists()&&(tmpl=tmpl.replace("$lat",$lat.find(".acf-input").html()),tmpl=tmpl.replace("$lng",$lng.find(".acf-input").html()),$lat.find(".acf-input").html(tmpl),$lng.remove()))}),acf.add_action("open_field change_field_type",function(e){"oembed"==e.attr("data-type")&&($width=e.find('tr[data-name="width"]'),$height=e.find('tr[data-name="height"]'),tmpl='<ul class="acf-hl"><li style="width:48%;">$width</li><li style="width:48%; margin-left:4%;">$height</li></ul>',$width.exists()&&(tmpl=tmpl.replace("$width",$width.find(".acf-input").html()),tmpl=tmpl.replace("$height",$height.find(".acf-input").html()),$width.find(".acf-input").html(tmpl),$height.remove()))}),acf.add_action("open_field change_field_type",function(e){"date_picker"==e.attr("data-type")&&a(e)}),e(document).on("change",'.field[data-type="date_picker"] input[type="radio"]',function(){a(e(this).closest(".field"))})}(jQuery);
